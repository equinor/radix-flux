apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: radix-operator
  namespace: default
spec:
  values:
    image:
      tag: release-263226a4-1638875269 # {"$imagepolicy": "flux-system:radix-operator:tag"}
    activeClusterName: ${ACTIVE_CLUSTER} # Set in postBuild production
    imageBuilder: radix-image-builder:release-latest
    imageScanner: radix-image-scanner:release-latest
    configToMap: radix-config-2-map:release-latest
    jobScheduler: radix-job-scheduler-server:release-latest
    containerRegistry: radixprod.azurecr.io
    resources:
      limits:
        cpu: "2"
        memory: 8000Mi
      requests:
        cpu: 100m
        memory: 4000Mi
    subscriptionId: ded7ca41-37c8-4085-862f-b11d21ab341a
