apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- flux-system
- ./imageUpdateAutomation.yaml
- ../../components/third-party/blob-csi-driver
- ../../components/third-party/blobfuse-flexvolume
- ../../components/third-party/cert-manager
- ../../components/third-party/dynatrace-operator
- ../../components/third-party/external-dns
- ../../components/third-party/grafana
- ../../components/third-party/ingress-nginx
#- ../../components/third-party/ingress-nginx-active-cluster
#- ../../components/third-party/ingress-nginx-app
- ../../components/third-party/kube-prometheus-stack
- ../../components/third-party/kubed
- ../../components/third-party/kured
- ../../components/third-party/snyk-monitor
- ../../components/third-party/sysctl-install-blobfuse
- ../../components/third-party/velero
- ../../components/third-party/velero-schedule
- ../../components/radix-platform/radix-acr-cleanup
- ../../components/radix-platform/radix-cicd-canary
- ../../components/radix-platform/radix-cost-allocation
- ../../components/radix-platform/radix-operator
- ../../components/radix-platform/radix-velero-plugin
patches:
  - patch: ./postBuild.yaml
  - patch: ./healthChecks.yaml
  - patch: ./overlay/radix-platform/radix-acr-cleanup/postBuild.yaml
  - patch: ./overlay/radix-platform/radix-acr-cleanup/helmRelease.yaml
  - patch: ./overlay/radix-platform/radix-cicd-canary/postBuild.yaml
  - patch: ./overlay/radix-platform/radix-cicd-canary/helmRelease.yaml
  - patch: ./overlay/radix-platform/radix-cost-allocation/postBuild.yaml
  - patch: ./overlay/radix-platform/radix-cost-allocation/helmRelease.yaml
  - patch: ./overlay/radix-platform/radix-operator/postBuild.yaml
  - patch: ./overlay/radix-platform/radix-operator/helmRelease.yaml
  - patch: ./overlay/radix-platform/radix-velero-plugin/postBuild.yaml
  - patch: ./overlay/third-party/blob-csi-driver/helmRelease.yaml
  - patch: ./overlay/third-party/cert-manager/helmRelease.yaml
  - patch: ./overlay/third-party/dynatrace-operator/helmRelease.yaml
  - patch: ./overlay/third-party/external-dns/helmRelease.yaml
  - patch: ./overlay/third-party/grafana/helmRelease.yaml
  - patch: ./overlay/third-party/ingress-nginx/helmRelease.yaml
#  - patch: ./overlay/third-party/ingress-nginx-active-cluster/helmRelease.yaml
#  - patch: ./overlay/third-party/ingress-nginx-app/helmRelease.yaml
  - patch: ./overlay/third-party/kube-prometheus-stack/helmRelease.yaml
  - patch: ./overlay/third-party/kube-prometheus-stack/postBuild.yaml
  - patch: ./overlay/third-party/kubed/helmRelease.yaml
  - patch: ./overlay/third-party/kured/helmRelease.yaml
  - patch: ./overlay/third-party/snyk-monitor/helmRelease.yaml
  - patch: ./overlay/third-party/velero/helmRelease.yaml
  - patch: ./overlay/third-party/velero/postBuild.yaml
