apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- flux-system
- ./imageUpdateAutomation.yaml
- ../../components/third-party/blob-csi-driver
- ../../components/third-party/blobfuse-flexvolume
- ../../components/third-party/cert-manager
- ../../components/third-party/csi-secrets-store-provider-azure
- ./overlay/third-party/dynatrace-operator/dynatrace-operator.yaml
- ../../components/third-party/external-dns
- ../../components/third-party/grafana
- ./overlay/third-party/ingress-nginx/ingress-nginx.yaml
#- ../../components/third-party/ingress-nginx-active-cluster
#- ../../components/third-party/ingress-nginx-app
- ../../components/third-party/kube-prometheus-stack
- ../../components/third-party/kubed
- ../../components/third-party/kured
- ../../components/third-party/snyk-monitor
- ../../components/third-party/sysctl-install-blobfuse
- ../../components/third-party/velero
- ../../components/third-party/velero-schedule
- ./overlay/radix-platform/radix-acr-cleanup/radix-acr-cleanup.yaml
- ./overlay/radix-platform/radix-cicd-canary/radix-cicd-canary.yaml
- ../../components/radix-platform/radix-cost-allocation
- ./overlay/radix-platform/radix-operator/radix-operator.yaml
- ../../components/radix-platform/radix-velero-plugin
patches:
  - path: ./postBuild.yaml
  - path: ./healthChecks.yaml
  - path: ./overlay/radix-platform/radix-acr-cleanup/postBuild.yaml
  - path: ./overlay/radix-platform/radix-cicd-canary/postBuild.yaml
  - path: ./overlay/radix-platform/radix-cost-allocation/postBuild.yaml
  - path: ./overlay/radix-platform/radix-cost-allocation/helmRelease.yaml
  - path: ./overlay/radix-platform/radix-operator/postBuild.yaml
  - path: ./overlay/radix-platform/radix-velero-plugin/postBuild.yaml
  - path: ./overlay/third-party/blob-csi-driver/helmRelease.yaml
  - path: ./overlay/third-party/cert-manager/helmRelease.yaml
  - path: ./overlay/third-party/csi-secrets-store-provider-azure/helmRelease.yaml
  - path: ./overlay/third-party/external-dns/helmRelease.yaml
  - path: ./overlay/third-party/grafana/helmRelease.yaml
#  - path: ./overlay/third-party/ingress-nginx-active-cluster/helmRelease.yaml
#  - path: ./overlay/third-party/ingress-nginx-app/helmRelease.yaml
  - path: ./overlay/third-party/kube-prometheus-stack/helmRelease.yaml
  - path: ./overlay/third-party/kube-prometheus-stack/postBuild.yaml
  - path: ./overlay/third-party/kubed/helmRelease.yaml
  - path: ./overlay/third-party/kured/helmRelease.yaml
  - path: ./overlay/third-party/snyk-monitor/helmRelease.yaml
  - path: ./overlay/third-party/velero/helmRelease.yaml
  - path: ./overlay/third-party/velero/postBuild.yaml
