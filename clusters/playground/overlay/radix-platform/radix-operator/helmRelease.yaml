apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: radix-operator
  namespace: default
spec:
  values:
    image:
      tag: release-66bc875c-1646208433 # {"$imagepolicy": "flux-system:radix-operator:tag"}
    activeClusterName: ${ACTIVE_CLUSTER} # Set in postBuild playground
    imageBuilder: radix-image-builder:release-latest
    imageScanner: radix-image-scanner:release-latest
    configToMap: radix-config-2-map:release-latest
    jobScheduler: radix-job-scheduler-server:release-latest
    containerRegistry: radixdev.azurecr.io
    resources:
      limits:
        cpu: "2"
        memory: 3000Mi
      requests:
        cpu: 100m
        memory: 1500Mi
    subscriptionId: 16ede44b-1f74-40a5-b428-46cca9a5741b
    app:
      env:
        limitrange:
          default:
            memory: 1000Mi
    oauthProxyImage: quay.io/oauth2-proxy/oauth2-proxy:v7.2.0 #https://quay.io/repository/oauth2-proxy/oauth2-proxy?tag=latest&tab=tags
