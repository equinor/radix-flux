# Kubed will synchronize `Certificates` as `Secrets` to namespaces by when the source is annotated with a sync key, 
# and a label exists on the target namespace(s) that reference that sync key.
# Since we have not enabled notifications from kubed, we can hardcode clusterName for all dev clusters
---
apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: kubed
  namespace: kube-system
  annotations:
    flux.weave.works/ignore: false
spec:
  releaseName: "kubed"
  chart:
    repository: https://charts.appscode.com/stable/
    name: kubed
    version: 0.10.0
  values:
    enableAnalytics: false
    apiserver:
      enabled: false
    rbac:
      create: true
    config:
      clusterName: "dev"  # Used for Kubed notification ...which we do not use.