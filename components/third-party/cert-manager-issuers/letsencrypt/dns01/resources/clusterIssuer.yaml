apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: ${clusterIssuerName}
spec:
  acme:
    email: ${accountEmail}
    server: ${acmeServer}
    skipTLSVerify: false
    privateKeySecretRef:
      name: ${privateKeySecretName}
    solvers:
      - dns01:
          azureDNS:
            managedIdentity:
              clientID: "${managedIdentityClientId}"
            subscriptionID: "${AZ_SUBSCRIPTION_ID}"
            resourceGroupName: "${AZ_RESOURCE_GROUP_COMMON}"
            hostedZoneName: "${AZ_RESOURCE_DNS}"
            # Azure Cloud Environment, default to AzurePublicCloud
            environment: AzurePublicCloud
        